require('colors');
const axios = require('axios');
const executePetition = async (id) => {
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            try {
                const URI = `http://localhost:3030/infoEmpleado?id=${id}`;
                const request = axios.get(URI);
                resolve(request);

            } catch (err) {
                //console.log('ERROR'.red)
                reject('ERROR AL HACER LA QUERY');
            }
        }, 1000)


    });

};

const main = async () => {
    for (let i = 0; i < 1000; i++) {
        await executePetition(i)
            .then(data => {
                console.log(`HTML del usuario con el ID ${i}`.blue);
                console.log(`${data.data}`.green);
            })
            .catch(err => {
                console.log(`${err}`.bgRed);
                console.log(`ERROR - Usuario con el ID ${i} NO encontrado`.red);
            })
    }
}

main();